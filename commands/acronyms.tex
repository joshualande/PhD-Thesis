% Note, we had to override the acronyms a little bit to allow some
% customization.
% Following the discussion from https://groups.google.com/d/msg/comp.text.tex/_NBZd1p8g8Q/X9QOZID_wm4J
% now:
%  * user1=stores the indefinite article for the expanded version
%  * user2=stores the indefinite article for the abbreviation version
%  * user3=The expanded acronym in title case
%  * user4=The expanded plural acronym in title case.
%
% The defaults are: user1='a', user2='a', 
% user3='the expanded title (not title case),
% user4='the expanded title (not title case & not plural),

% We defined the new commands:
%  * \aac puts the indefinite article in front of the acronym 
%    e.g. "an IDN" or "a identification number (IDN)"
%  * \Aac same as \agls, but in upper case
%    e.g. "An IDN" or "A identification number (IDN)"
%  * \Actitle: writes out the title in full
%    e.g. "Pulsar Wind Nebula"
%  * \Acptitle: writes out the plural title in full
%    e.g. "Pulsar Wind Nebulae"


\newcommand{\mynewacronym}[4][]{%
   \newacronym[user1=a,user2=a,user3=#4,user4=#4s, #1]{#2}{#3}{#4}}

\newcommand{\aac}[1]{%
   \ifglsused{#1}{\glsentryuserii{#1}}{\glsentryuseri{#1}}
   \gls{#1}%
}

\newcommand{\Aac}[1]{%
   \ifglsused{#1}{\Glsentryuserii{#1}}{\Glsentryuseri{#1}}
   \gls{#1}%
}

% Expanded text to include in title case for use in section names
\newcommand{\Actitle}[1]{\glsentryuseriii{#1}}

% Same as \Acptitle but plural
\newcommand{\Acptitle}[1]{\glsentryuseriv{#1}}

% Acronym in short form for use in section names
\newcommand{\Acstitle}[1]{\glsentryshort{#1}}
% Same as \Acsptitle but plural
\newcommand{\Acsptitle}[1]{\glsentryshortpl{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Math stuff

\mynewacronym{SA}{SA}{solid angle}
\mynewacronym{FWHM}{FWHM}{full width at half maximum}

% Fermi Stuff

\mynewacronym{LAT}{LAT}{Large Area Telescope}

\mynewacronym{PSF}{PSF}{point spread function}

\mynewacronym{ACD}{ACD}{Anti-Coincidence Detector}
\mynewacronym{GBM}{GBM}{Gamma-ray Burst Monitor}

% Astrophysical sources

\mynewacronym[longplural=pulsar wind nebulae,
            shortplural=PWNe,
            plural=PWNe, % not sure why I need to delcare this multiple times
            user3=Pulsar Wind Nebula,
            user4=Pulsar Wind Nebulae]{PWN}{PWN}{pulsar wind nebula}
\mynewacronym{SNR}{SNR}{supernova remnant}
\mynewacronym[longplural=active galactic nuclei,
             ]{AGN}{AGN}{active galactic nucleus}
\mynewacronym{SN}{SN}{supernova}
\mynewacronym[longplural=high-mass binaries,
             ]{HMB}{HMB}{high-mass binary}
\mynewacronym{NS}{NS}{neutron star}
\mynewacronym{MSP}{MSP}{millisecond pulsar}
\mynewacronym{MSC}{MSC}{massive star cluster}
\mynewacronym{UNID}{UNID}{unidentified source}

\mynewacronym{VHE}{VHE}{very high energy}

% radiation mechanisms
\mynewacronym[user3=Inverse Compton]{IC}{IC}{inverse Compoton}

% catalogs
\mynewacronym{2CG}{2CG}{the second \cosb catalog}
\mynewacronym[user3=The Second Fermi Catalog]{2FGL}{2FGL}{the second \fermi catalog}
\mynewacronym[user3=The Second Fermi Pulsar Catalog]{2PC}{2PC}{the second \fermi pulsar catalog}
\mynewacronym{1FHL}{1FHL}{the first \fermi hard-source list}
\mynewacronym{3EG}{3EG}{the third EGRET catalog}

% math stuff
\mynewacronym{CGS}{CGS}{the Centimetre-Gram-Second System of Units}

% source models
\mynewacronym{PL}{PL}{power law}
\mynewacronym{ECPL}{ECPL}{exponentially-cutoff power law}
\mynewacronym{BPL}{BPL}{broken-power law}

% schools
\mynewacronym{MIT}{MIT}{the Massachusetts Institute of Technology}

% experiments
\mynewacronym{OSO-3}{OSO-3}{the Third Orbiting Solar Observatory}
\mynewacronym{SAS-2}{SAS-2}{the second Small Astronomy Satellite}
\mynewacronym{EGRET}{EGRET}{the Energetic Gamma Ray Experiment Telescope}
\mynewacronym{HESS}{H.E.S.S.}{the High Energy Stereoscopic System}
\mynewacronym{CGRO}{CGRO}{the Compton Gamma Ray Observatory}
\mynewacronym{AGILE}{AGILE}{Astro-rivelatore Gamma a Immagini LEggero}
\mynewacronym{CTA}{CTA}{the Cherenkov Telescope Array}

% Goverment Stuff
\mynewacronym{ESA}{ESA}{the European Space Agency}
\mynewacronym{NASA}{NASA}{the National Aeronautics and Space Administration}
\mynewacronym{NRL}{NRL}{the Naval Research Laboratory}
\mynewacronym{ASI}{ASI}{Italian Space Agency}
\mynewacronym{DOE}{DOE}{United States Department of Energy}

\mynewacronym{ATNF}{ATNF}{Australia Telescope National Facility}

\mynewacronym[longplural=seconds of arc]{arcsec}{arcsec}{second of arc}

\mynewacronym{IACT}{IACT}{Imaging air Cherenkov detector}

\mynewacronym{LMC}{LMC}{Large Magellanic Cloud}
\mynewacronym{CsI}{CsI}{cesium iodide}
\mynewacronym{GRB}{GRB}{gamma-ray burst}

\mynewacronym{CR}{CR}{cosmic ray}
\mynewacronym{SED}{SED}{spectral energy distribution}
\mynewacronym{LRT}{LRT}{likelihood-ratio test}

% pulsar stuff
\mynewacronym{OG}{OG}{outer gap}
\mynewacronym{TPC}{TPC}{two pole caustic}
\mynewacronym{PC}{PC}{polar cap}
\mynewacronym{CMB}{CMB}{cosmic microwave background}
\mynewacronym{IRF}{IRF}{instrument response function}
\mynewacronym{2LAC}{2LAC}{the second LAT AGN catalog}
